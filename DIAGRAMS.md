# CardanoVerse - Visual System Diagrams

## System Architecture Overview

```
┌─────────────────────────────────────────────────────────────────────────┐
│                         CARDANOVERSE PLATFORM                            │
│                    AI-Powered Trading Cards on Cardano                   │
└─────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────┐
│                           USER INTERFACE LAYER                           │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                          │
│  ┌────────────┐  ┌────────────┐  ┌────────────┐  ┌────────────┐       │
│  │    Home    │  │Marketplace │  │ Collection │  │  Profile   │       │
│  │    Page    │  │    Page    │  │    Page    │  │    Page    │       │
│  └────────────┘  └────────────┘  └────────────┘  └────────────┘       │
│                                                                          │
│  ┌────────────┐  ┌────────────┐  ┌────────────┐                        │
│  │   Create   │  │AI Insights │  │P2P Trading │                        │
│  │   Card     │  │    Page    │  │    Page    │                        │
│  └────────────┘  └────────────┘  └────────────┘                        │
│                                                                          │
│  ┌──────────────────────────────────────────────────────────┐          │
│  │              Wallet Integration (Mesh SDK)                │          │
│  │  Nami │ Eternl │ Flint │ Lace │ Typhon                  │          │
│  └──────────────────────────────────────────────────────────┘          │
│                                                                          │
└─────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                       APPLICATION SERVICES LAYER                         │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                          │
│  ┌────────────────────────────────────────────────────────────────┐    │
│  │                      Backend API Server                         │    │
│  │                  (Node.js + Express + Socket.io)               │    │
│  ├────────────────────────────────────────────────────────────────┤    │
│  │                                                                 │    │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐        │    │
│  │  │   Cardano    │  │  AI Agents   │  │     P2P      │        │    │
│  │  │  API Routes  │  │  API Routes  │  │  API Routes  │        │    │
│  │  └──────────────┘  └──────────────┘  └──────────────┘        │    │
│  │                                                                 │    │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐        │    │
│  │  │    Cards     │  │  WebSocket   │  │   Business   │        │    │
│  │  │  API Routes  │  │   Handler    │  │    Logic     │        │    │
│  │  └──────────────┘  └──────────────┘  └──────────────┘        │    │
│  │                                                                 │    │
│  └────────────────────────────────────────────────────────────────┘    │
│                                                                          │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐                 │
│  │  PostgreSQL  │  │    Redis     │  │     IPFS     │                 │
│  │   Database   │  │    Cache     │  │    Node      │                 │
│  └──────────────┘  └──────────────┘  └──────────────┘                 │
│                                                                          │
└─────────────────────────────────────────────────────────────────────────┘
            │                    │                    │
            ▼                    ▼                    ▼
┌─────────────────────┐ ┌─────────────────┐ ┌─────────────────────┐
│  CARDANO BLOCKCHAIN │ │  MASUMI NETWORK │ │   SOKOSUMI AI       │
│       LAYER         │ │      LAYER      │ │      LAYER          │
├─────────────────────┤ ├─────────────────┤ ├─────────────────────┤
│                     │ │                 │ │                     │
│ ┌─────────────────┐ │ │ ┌─────────────┐ │ │ ┌─────────────────┐ │
│ │  Blockfrost API │ │ │ │   libp2p    │ │ │ │  MCP Server     │ │
│ │   (Preprod/     │ │ │ │  Transport  │ │ │ │  (Port 3000)    │ │
│ │    Mainnet)     │ │ │ │             │ │ │ │                 │ │
│ └─────────────────┘ │ │ └─────────────┘ │ │ └─────────────────┘ │
│                     │ │                 │ │                     │
│ ┌─────────────────┐ │ │ ┌─────────────┐ │ │ ┌─────────────────┐ │
│ │  Lucid/Mesh     │ │ │ │  Gossipsub  │ │ │ │ Valuation Agent │ │
│ │  Transaction    │ │ │ │   PubSub    │ │ │ │ (ML Prediction) │ │
│ │    Library      │ │ │ │             │ │ │ │                 │ │
│ └─────────────────┘ │ │ └─────────────┘ │ │ └─────────────────┘ │
│                     │ │                 │ │                     │
│ ┌─────────────────┐ │ │ ┌─────────────┐ │ │ ┌─────────────────┐ │
│ │ Smart Contracts │ │ │ │   Kad-DHT   │ │ │ │ Trading Advisor │ │
│ │ (Plutus V3)     │ │ │ │  Discovery  │ │ │ │     Agent       │ │
│ │                 │ │ │ │             │ │ │ │ (Reinforcement  │ │
│ │ • Minting       │ │ │ └─────────────┘ │ │ │   Learning)     │ │
│ │ • Marketplace   │ │ │                 │ │ └─────────────────┘ │
│ │ • Escrow        │ │ │ ┌─────────────┐ │ │                     │
│ │ • Royalty       │ │ │ │ Order Book  │ │ │ ┌─────────────────┐ │
│ └─────────────────┘ │ │ │ Broadcasting│ │ │ │ Market Analysis │ │
│                     │ │ │             │ │ │ │     Agent       │ │
│ ┌─────────────────┐ │ │ └─────────────┘ │ │ │ (Time Series)   │ │
│ │  NFT Metadata   │ │ │                 │ │ └─────────────────┘ │
│ │  (CIP-25/68)    │ │ │ ┌─────────────┐ │ │                     │
│ └─────────────────┘ │ │ │  P2P Stats  │ │ │ ┌─────────────────┐ │
│                     │ │ │  Monitoring │ │ │ │ Rarity Evaluator│ │
│                     │ │ └─────────────┘ │ │ │     Agent       │ │
│                     │ │                 │ │ │  (Statistical)  │ │
│                     │ │                 │ │ └─────────────────┘ │
│                     │ │                 │ │                     │
└─────────────────────┘ └─────────────────┘ └─────────────────────┘
```

## Data Flow Diagrams

### 1. Card Minting Flow

```
┌─────────┐         ┌──────────┐        ┌──────────┐        ┌─────────┐
│  User   │────────>│ Frontend │───────>│ Backend  │───────>│  IPFS   │
│         │ Design  │          │ Upload │          │ Store  │  Node   │
└─────────┘  Card   └──────────┘ Image  └──────────┘ Image  └─────────┘
                          │                    │                   │
                          │                    │                   ▼
                          │                    │          ┌─────────────┐
                          │                    │          │  Image CID  │
                          │                    │◄─────────│  Generated  │
                          │                    │          └─────────────┘
                          │                    │
                          │                    ▼
                          │          ┌──────────────────┐
                          │          │  Build Tx with   │
                          │          │  Lucid/Mesh      │
                          │          │  + CIP-25 Meta   │
                          │          └──────────────────┘
                          │                    │
                          │◄───────────────────│ Return Unsigned Tx
                          │                    │
┌─────────┐              │                    │
│ Wallet  │◄─────────────│                    │
│         │ Sign Request │                    │
│         │─────────────>│                    │
│         │ Signed Tx    │                    │
└─────────┘              │───────────────────>│
                          │                    │
                          │                    ▼
                          │          ┌──────────────────┐
                          │          │  Blockfrost API  │
                          │          │  Submit Tx       │
                          │          └──────────────────┘
                          │                    │
                          │                    ▼
                          │          ┌──────────────────┐
                          │          │  Cardano Network │
                          │          │  Confirmation    │
                          │          └──────────────────┘
                          │                    │
                          │◄───────────────────│ Tx Hash
                          │                    │
                          ▼                    ▼
                  ┌────────────┐     ┌──────────────┐
                  │ Display    │     │  Broadcast   │
                  │ Success    │     │  to Masumi   │
                  └────────────┘     │  Network     │
                                     └──────────────┘
```

### 2. AI Valuation Flow

```
┌─────────┐         ┌──────────┐        ┌──────────┐        ┌─────────────┐
│  User   │────────>│ Frontend │───────>│ Backend  │───────>│  Sokosumi   │
│         │ Request │          │  API   │          │  MCP   │  MCP Server │
└─────────┘ Price   └──────────┘  Call  └──────────┘ Request└─────────────┘
                                                                     │
                                                                     ▼
                                                          ┌───────────────────┐
                                                          │ Valuation Agent   │
                                                          │ • Load ML Model   │
                                                          │ • Extract Features│
                                                          │ • Run Inference   │
                                                          │ • Calculate Score │
                                                          └───────────────────┘
                                                                     │
                                                                     ▼
                                                          ┌───────────────────┐
                                                          │  Analysis Result  │
                                                          │  • Price: 45 ADA  │
                                                          │  • Confidence: 0.85│
                                                          │  • Factors        │
                                                          └───────────────────┘
                                                                     │
┌─────────┐         ┌──────────┐        ┌──────────┐              │
│  User   │◄────────│ Frontend │◄───────│ Backend  │◄─────────────┘
│         │ Display │          │ Format │          │  JSON Response
└─────────┘ Results └──────────┘  Data  └──────────┘
```

### 3. P2P Trading Flow

```
Seller                   Masumi Network              Buyer
┌────┐                   ┌───────────┐               ┌────┐
│    │                   │           │               │    │
│    │─ Broadcast Offer ─>│         │               │    │
│    │   (Gossipsub)     │           │               │    │
│    │                   │  ┌─────┐  │               │    │
│    │                   │  │ DHT │  │               │    │
│    │                   │  └─────┘  │               │    │
│    │                   │     │     │               │    │
│    │                   │     │     │◄─ Discover ───│    │
│    │                   │     │     │   Offers      │    │
│    │                   │     ▼     │               │    │
│    │                   │  ┌─────┐  │               │    │
│    │                   │  │Order│  │               │    │
│    │                   │  │Book │  │──────────────>│    │
│    │                   │  └─────┘  │  Return Offer │    │
│    │                   │           │               │    │
│    │                   └───────────┘               │    │
│    │                                               │    │
│    │◄────── Smart Contract Escrow ───────────────>│    │
│    │         (Cardano Blockchain)                 │    │
│    │                                               │    │
│    │─── Send NFT ────────────────────────────────>│    │
│    │◄── Send ADA ──────────────────────────────────│    │
│    │                                               │    │
└────┘                                               └────┘
```

## Technology Stack Layers

```
┌─────────────────────────────────────────────────────────────────┐
│                        PRESENTATION LAYER                        │
├─────────────────────────────────────────────────────────────────┤
│  React 18  │  TypeScript  │  TailwindCSS  │  Framer Motion    │
│  Vite      │  React Router│  Lucide Icons │  Three.js         │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                      APPLICATION LAYER                           │
├─────────────────────────────────────────────────────────────────┤
│  Node.js   │  Express     │  Socket.io    │  TypeScript       │
│  Axios     │  Joi         │  JWT          │  Winston          │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                         DATA LAYER                               │
├─────────────────────────────────────────────────────────────────┤
│  PostgreSQL│  Redis       │  IPFS         │  Vector DB        │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                       BLOCKCHAIN LAYER                           │
├─────────────────────────────────────────────────────────────────┤
│  Cardano   │  Plutus V3   │  Aiken        │  Blockfrost       │
│  Lucid     │  Mesh SDK    │  CIP-25/68    │  Native Tokens    │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                      NETWORKING LAYER                            │
├─────────────────────────────────────────────────────────────────┤
│  libp2p    │  Gossipsub   │  Kad-DHT      │  Masumi Network   │
│  WebSockets│  HTTP/HTTPS  │  TCP/IP       │  NAT Traversal    │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                          AI LAYER                                │
├─────────────────────────────────────────────────────────────────┤
│  Sokosumi MCP │  TensorFlow.js │  ONNX Runtime  │  ML Models  │
│  OpenAI API   │  Claude API    │  Custom Agents │  Vector DB  │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                     INFRASTRUCTURE LAYER                         │
├─────────────────────────────────────────────────────────────────┤
│  Docker    │  Docker Compose │  Kubernetes │  CI/CD          │
│  Nginx     │  CDN            │  Monitoring │  Logging        │
└─────────────────────────────────────────────────────────────────┘
```

## Deployment Architecture

```
                        ┌───────────────┐
                        │    Internet   │
                        └───────┬───────┘
                                │
                        ┌───────▼───────┐
                        │   CDN / Edge  │
                        │   (Frontend)  │
                        └───────┬───────┘
                                │
                ┌───────────────┴───────────────┐
                │                               │
        ┌───────▼────────┐             ┌───────▼────────┐
        │  Load Balancer │             │  Load Balancer │
        │   (API Layer)  │             │  (WebSocket)   │
        └───────┬────────┘             └───────┬────────┘
                │                               │
        ┌───────┴────────┐             ┌───────┴────────┐
        │                │             │                │
    ┌───▼───┐       ┌───▼───┐     ┌───▼───┐       ┌───▼───┐
    │Backend│       │Backend│     │Backend│       │Backend│
    │ Pod 1 │       │ Pod 2 │     │ Pod 3 │       │ Pod 4 │
    └───┬───┘       └───┬───┘     └───┬───┘       └───┬───┘
        │               │             │               │
        └───────┬───────┴─────────────┴───────┬───────┘
                │                             │
        ┌───────▼────────┐           ┌────────▼────────┐
        │   PostgreSQL   │           │     Redis       │
        │   (Managed)    │           │   (Managed)     │
        └────────────────┘           └─────────────────┘

        ┌────────────────┐           ┌─────────────────┐
        │  IPFS/Pinata   │           │  Masumi Nodes   │
        │   (Storage)    │           │  (Distributed)  │
        └────────────────┘           └─────────────────┘

        ┌────────────────┐           ┌─────────────────┐
        │  Sokosumi MCP  │           │ Cardano Network │
        │  (GPU Cluster) │           │  (Blockchain)   │
        └────────────────┘           └─────────────────┘
```

---

**These diagrams provide a comprehensive visual understanding of the CardanoVerse architecture** 🎴
